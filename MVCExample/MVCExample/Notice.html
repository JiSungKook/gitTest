<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
	<meta charset="utf-8" />
</head>
<body>
    이 글은 C#의 MVC Framework에서 Filter에 대한 설명입니다.

    C#에서는 FilterAttribute를 이용해서 로그인 인증과 기타 공통 제어를 할 수 있습니다. 예를 들면 우리가 웹 사이트를 접속하면서 로그인 화면 이외에는 모든 페이지에 로그인 상태인지 아닌지 확인하고 로그인 상태가 아니면 로그인 화면으로 전환해야 합니다.
    그것을 각 MVC에서 시작하는 모든 Action 메서드 위의 시작 부분에 호출하는 것도 하나의 방법이기는 하지만 좀 폼나게 프로그램답게 사용하는 방법이 있는데 그것이 필터입니다.

    필터의 종류에는 Action 필터와 인증 필터가 있습니다. 먼저 인증 필터에 대해 설명하겠습니다.
    먼저 인증 필터를 만들겠습니다.

    디렉토리 구조에서 Common 폴더를 하나 생성해서 「AuthorizeFilter」라는 클래스를 생성했습니다.


    
    
    
    그리고 AuthorizeAttribute의 클래스를 상속 받습니다. 사실 인증 필터에 대해서는 여러가지 사용 방법이 있어서 꼭 제가 하는 방식은 정답은 아닙니다만, 저의 경우는 이렇게 사용한다라고 이해하면 됩니다.

    보통은 「AuthorizeCore」의 클래스를 override해서 사용하는 방법이 가장 일반적입니다만, 저의 경우는 OnAuthorization를 override해서 사용합니다.

    어느 쪽이든 결과는 비슷합니다만 OnAuthorization가 AuthorizeCore보다 좀 더 빨리 호출되고(OnAuthorization -> AuthorizeCore -> OnAuthorization 순으로 호출됩니다.)
    무엇보다 http result code를 제어할 수 있어서 저는 AuthorizeCore메서드 보다 다루기가 더 편해서 OnAuthorization 메서드를 사용합니다.



</body>
</html>
